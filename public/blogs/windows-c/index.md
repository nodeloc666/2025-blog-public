# 前言


很多程序是“硬编码”的，不能简单地将文件夹剪切粘贴到D盘，它只会在例如 `C:\Users\Administrator\AppData\Roaming` 这个路径下寻找它的配置文件、词典、波形图缓存等数据。如果你直接移动，程序找不到文件，要么会报错，要么会自动在C盘重新创建一个新的空文件夹，导致你的设置和数据全部丢失。但又特别占用C盘空间，很是让人烦恼！


本文介绍的一种解决方法是使用 符号链接（Symbolic Link） 或 目录联接（Junction）。这相当于在C盘原来的位置创建一个“高级快捷方式”，它会告诉操作系统：“嘿，虽然你在C盘找这个文件夹，但它里面的所有真实数据都存放在D盘的那个位置。” 这样对程序来说是完全透明的，它会认为文件还在C盘，从而不影响任何使用。




# 教程


## 第一步：准备工作
1. 完全关闭对应程序：确保程序已经**完全关闭**，最好在任务管理器里也检查一下，以防文件被占用。
2. 创建目标文件夹：在D盘创建一个你希望存放数据的新文件夹。例如，你可以创建 `D:\CAPP_Data` 或者 `D:\ProgramData\Program`。为了清晰，我们以`D:\CAPP_Data\Program-1`为例。


## 第二步：移动文件
1. 打开文件资源管理器。
2. 找到你想转移的**对应的文件夹**`Program-1`。
3. **复制/剪切**这个文件夹。
4. 进入你刚才在D盘创建的文件夹（例如 D:\CAPP_Data），然后 粘贴 (Paste)。
5. 操作完成后，请确认：


   - `C:\Users\Administrator\AppData\Roaming`（**对应原目录下**） 目录下已经没有 `Program-1`这个文件夹了。


   - `D:\CAPP_Data` 目录下现在有一个完整的`Program-1`文件夹，里面包含了你所有的设置和数据。


## 第三步：创建符号链接（关键步骤）


1. 以管理员身份打开命令提示符（CMD）：


   - 在开始菜单搜索 "cmd" 或 "命令提示符"。


   - 在搜索结果上右键，选择“以管理员身份运行”。这是必须的，否则没有权限创建链接。


2. 执行 mklink 命令：


在打开的管理员命令提示符窗口中，输入以下命令，然后按回车。
```
mklink /D "C:\Users\Administrator\AppData\Roaming\Program-1" "D:\CAPP_Data\Program-1"


```


**命令解释：**


- `mklink`：是创建链接的命令。
- `/D`：表示我们要创建一个目录（Directory）符号链接。
- `"C:\Users\Administrator\AppData\Roaming\Program-1"`：这是 链接文件的路径，也就是文件原来的位置。程序会来这里找。
- `"D:\CAPP_Data\Program-1"`：这是 目标文件的真实路径，也就是你把数据实际存放的位置。


**注意：**请务必根据你自己的用户名和在D盘创建的文件夹路径，**相应地修改上述命令中的路径。** 使用**英文双引号**把路径括起来是个好习惯，可以避免路径中有空格导致的问题。


3. 验证结果：


   - 如果命令执行成功，你会看到提示：`“为...创建的符号链接 <<===>> ...”`。


   - 现在回到 `C:\Users\Administrator\AppData\Roaming` 目录，你会看到一个带有一个小箭头图标的 `Program-1` 文件夹，这表明它是一个链接，而不是一个真实的文件夹。


   - 双击这个带箭头的文件夹，它应该会无缝地打开你在D盘存放数据的位置。


## 第四步：完成
现在，重新启动程序。它会像往常一样运行，加载你所有的设置和历史记录，但所有的数据读写操作实际上都是在D盘进行的，成功为C盘释放了空间。


## 如何撤销并迁回C盘呢？


如果你将来想把数据迁回C盘，操作也很简单：


1. 完全关闭程序。
2. 删除在C盘创建的符号链接。直接在 `C:\Users\Administrator\AppData\Roaming` 目录下，像删除普通文件夹一样删除那个带箭头的 `Program-1` 文件夹即可。（**这只会删除链接本身，不会删除D盘的真实数据**）。
3. 将D盘的 `Program-1` 文件夹剪切并粘贴回 `C:\Users\Administrator\AppData\Roaming` 目录。






